<script>
    

    // ðŸ”´ UNIVERSAL MONEY SCRIPT (Posters + Downloads + Background) ðŸ”´
    document.addEventListener("DOMContentLoaded", function() {
        const adUrl = "https://www.effectivegatecpm.com/gdbgbm18d?key=0acbf52e632f650885f296c00ee9937c"; 
        
        // SETTINGS
        const backgroundCooldown = 15 * 1000; // 15 Seconds for background/random clicks

        function openAd() {
            localStorage.setItem('lastAdTime', Date.now());
            window.open(adUrl, '_blank');
            try { window.focus(); } catch (e) {}
        }

        // 1. SMART CLICK LISTENER (Handles Posters & Buttons automatically)
        document.body.addEventListener('click', function(e) {
            
            // A. Check if the user clicked a Trigger (Link with class 'download-ad-trigger')
            // This .closest() method fixes the issue where clicking an IMAGE inside the link wouldn't work.
            const trigger = e.target.closest('.download-ad-trigger');

            if (trigger) {
                // We only care if it's a Link (<a> tag) so we can block the redirect
                if (trigger.tagName === 'A') {
                    let clickCount = parseInt(localStorage.getItem('adClickCount')) || 0;
                    clickCount++;
                    localStorage.setItem('adClickCount', clickCount);

                    // RULE: ODD CLICKS (1, 3, 5) -> SHOW AD
                    if (clickCount % 2 !== 0) {
                        e.preventDefault(); 
                        e.stopPropagation();
                        console.log("Triggered Ad (Odd Click)");
                        openAd();
                    } 
                    // RULE: EVEN CLICKS (2, 4, 6) -> ALLOW ACTION
                    else {
                        console.log("Allowed Action (Even Click)");
                        // Browser follows the link naturally
                    }
                    return; // Stop here. Do not trigger background logic below.
                }
            }

            // B. BACKGROUND CLICK LOGIC
            // If they clicked something that is NOT a link, button, or input
            if (!e.target.closest('a') && !e.target.closest('button') && !e.target.closest('input')) {
                const now = Date.now();
                const lastAdTime = parseInt(localStorage.getItem('lastAdTime')) || 0;

                // 15 Second Timer for random clicks
                if ((now - lastAdTime) > backgroundCooldown) {
                    console.log("Background Click Ad");
                    openAd();
                }
            }
        });
    });
</script>